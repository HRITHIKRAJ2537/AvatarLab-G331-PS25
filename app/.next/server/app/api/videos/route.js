/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/videos/route";
exports.ids = ["app/api/videos/route"];
exports.modules = {

/***/ "(rsc)/./app/api/videos/route.ts":
/*!*********************************!*\
  !*** ./app/api/videos/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _model_videoOutput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/model/videoOutput */ \"(rsc)/./model/videoOutput.ts\");\n/* harmony import */ var _lib_authenticate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/authenticate */ \"(rsc)/./lib/authenticate.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n// import { NextResponse, NextRequest } from \"next/server\";\n// import mongoose from \"mongoose\";\n// import VideoOutput from \"@/model/videoOutput\";\n// import { getUserId } from \"@/lib/authenticate\";\n// async function connectToDatabase() {\n//   if (mongoose.connection.readyState >= 1) return;\n//   return mongoose.connect(process.env.MONGODB_URI!);\n// }\n// export async function GET(request: NextRequest) {\n//   try {\n//     const userIdentifier = await getUserId(request);\n//     if (!userIdentifier) {\n//       return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n//     }\n//     const { searchParams } = new URL(request.url);\n//     const metadata = searchParams.get(\"metadata\") === \"true\";\n//     const userId = searchParams.get(\"userId\");\n//     if (userId !== userIdentifier) {\n//       return NextResponse.json({ error: \"Forbidden: User ID does not match\" }, { status: 403 });\n//     }\n//     await connectToDatabase();\n//     const videos = await VideoOutput.find({ userIdentifier, status: \"completed\" }).select(\n//       \"_id videoData audioId createdAt\"\n//     );\n//     if (metadata) {\n//       const videoData = videos.map((video) => ({\n//         _id: video._id,\n//         name: `video-${video._id}`,\n//         videoData: video.videoData.toString(\"base64\"),\n//         createdAt: video.createdAt.toISOString(),\n//         userIdentifier: userIdentifier,\n//         audioId: video.audioId,\n//       }));\n//       return NextResponse.json({ videos: videoData }, { status: 200 });\n//     }\n//     return NextResponse.json({ error: \"Metadata parameter required\" }, { status: 400 });\n//   } catch (error) {\n//     console.error(\"Error fetching videos:\", error);\n//     return NextResponse.json(\n//       { error: \"Failed to fetch videos\", details: error instanceof Error ? error.message : String(error) },\n//       { status: 500 }\n//     );\n//   }\n// }\n// export async function DELETE(request: NextRequest) {\n//   try {\n//     const userIdentifier = await getUserId(request);\n//     if (!userIdentifier) {\n//       return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n//     }\n//     const { id } = await request.json();\n//     if (!id) {\n//       return NextResponse.json({ error: \"Missing video id\" }, { status: 400 });\n//     }\n//     await connectToDatabase();\n//     const video = await VideoOutput.findOne({ _id: id, userIdentifier });\n//     if (!video) {\n//       return NextResponse.json({ error: \"Video not found or not authorized\" }, { status: 404 });\n//     }\n//     // Move to trash instead of deleting\n//     await VideoOutput.updateOne(\n//       { _id: id },\n//       { status: \"trashed\", deletedAt: new Date() }\n//     );\n//     return NextResponse.json({ success: true, message: \"Video moved to trash\" }, { status: 200 });\n//   } catch (error) {\n//     console.error(\"Error moving video to trash:\", error);\n//     return NextResponse.json(\n//       { error: \"Failed to move video to trash\", details: error instanceof Error ? error.message : String(error) },\n//       { status: 500 }\n//     );\n//   }\n// }\n\n\n\n\n\nasync function connectToDatabase() {\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_1___default().connection).readyState >= 1) return;\n    return mongoose__WEBPACK_IMPORTED_MODULE_1___default().connect(process.env.MONGODB_URI);\n}\nasync function GET(request) {\n    try {\n        const userIdentifier = await (0,_lib_authenticate__WEBPACK_IMPORTED_MODULE_3__.getUserId)(request);\n        if (!userIdentifier) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const metadata = searchParams.get(\"metadata\") === \"true\";\n        const userId = searchParams.get(\"userId\");\n        if (userIdentifier !== userIdentifier) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Forbidden: User ID does not match\"\n            }, {\n                status: 403\n            });\n        }\n        await connectToDatabase();\n        const videos = await _model_videoOutput__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find({\n            userIdentifier,\n            status: \"completed\"\n        }).select(\"_id videoData audioId createdAt\");\n        if (metadata) {\n            const videoData = videos.map((video)=>({\n                    _id: video._id,\n                    name: `video-${video._id}`,\n                    videoData: video.videoData.toString(\"base64\"),\n                    createdAt: video.createdAt.toISOString(),\n                    userIdentifier: userIdentifier,\n                    audioId: video.audioId\n                }));\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                videos: videoData\n            }, {\n                status: 200\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Metadata parameter required\"\n        }, {\n            status: 400\n        });\n    } catch (error) {\n        console.error(\"Error fetching videos:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch videos\",\n            details: error instanceof Error ? error.message : String(error)\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const userIdentifier = await (0,_lib_authenticate__WEBPACK_IMPORTED_MODULE_3__.getUserId)(request);\n        if (!userIdentifier) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { id } = await request.json();\n        if (!id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing video id\"\n            }, {\n                status: 400\n            });\n        }\n        await connectToDatabase();\n        const video = await _model_videoOutput__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            _id: id,\n            userIdentifier\n        });\n        if (!video) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Video not found or not authorized\"\n            }, {\n                status: 404\n            });\n        }\n        // Add to TrashItem table\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_4__[\"default\"].trashItem.create({\n            data: {\n                id: crypto.randomUUID(),\n                itemId: id,\n                itemType: \"video\",\n                userIdentifier,\n                name: `video-${id}`,\n                thumbnail: video.videoData,\n                deletedAt: new Date()\n            }\n        });\n        // Move to trash in MongoDB\n        await _model_videoOutput__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: id\n        }, {\n            status: \"trashed\",\n            deletedAt: new Date()\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Video moved to trash\"\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error moving video to trash:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to move video to trash\",\n            details: error instanceof Error ? error.message : String(error)\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU87WUFBb0MsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3pGO1FBRUEseUJBQXlCO1FBQ3pCLE1BQU1iLG1EQUFNQSxDQUFDd0MsU0FBUyxDQUFDQyxNQUFNLENBQUM7WUFDNUJDLE1BQU07Z0JBQ0pKLElBQUlLLE9BQU9DLFVBQVU7Z0JBQ3JCQyxRQUFRUDtnQkFDUlEsVUFBVTtnQkFDVnBDO2dCQUNBaUIsTUFBTSxDQUFDLE1BQU0sRUFBRVcsSUFBSTtnQkFDbkJTLFdBQVd0QixNQUFNRixTQUFTO2dCQUMxQnlCLFdBQVcsSUFBSUM7WUFDakI7UUFDRjtRQUVBLDJCQUEyQjtRQUMzQixNQUFNbkQsMERBQVdBLENBQUNvRCxTQUFTLENBQ3pCO1lBQUV4QixLQUFLWTtRQUFHLEdBQ1Y7WUFBRXpCLFFBQVE7WUFBV21DLFdBQVcsSUFBSUM7UUFBTztRQUc3QyxPQUFPckQscURBQVlBLENBQUNlLElBQUksQ0FBQztZQUFFd0MsU0FBUztZQUFNaEIsU0FBUztRQUF1QixHQUFHO1lBQUV0QixRQUFRO1FBQUk7SUFDN0YsRUFBRSxPQUFPRCxPQUFPO1FBQ2RvQixRQUFRcEIsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsT0FBT2hCLHFEQUFZQSxDQUFDZSxJQUFJLENBQ3RCO1lBQUVDLE9BQU87WUFBaUNxQixTQUFTckIsaUJBQWlCc0IsUUFBUXRCLE1BQU11QixPQUFPLEdBQUdDLE9BQU94QjtRQUFPLEdBQzFHO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyIvaG9tZS92dnIvUFJPSkVDVC9BdmF0YXJMYWItRzMzMS1QUzI1X18vYXBwL2FwaS92aWRlb3Mvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5cbi8vIGltcG9ydCB7IE5leHRSZXNwb25zZSwgTmV4dFJlcXVlc3QgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbi8vIGltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbi8vIGltcG9ydCBWaWRlb091dHB1dCBmcm9tIFwiQC9tb2RlbC92aWRlb091dHB1dFwiO1xuLy8gaW1wb3J0IHsgZ2V0VXNlcklkIH0gZnJvbSBcIkAvbGliL2F1dGhlbnRpY2F0ZVwiO1xuXG4vLyBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9EYXRhYmFzZSgpIHtcbi8vICAgaWYgKG1vbmdvb3NlLmNvbm5lY3Rpb24ucmVhZHlTdGF0ZSA+PSAxKSByZXR1cm47XG4vLyAgIHJldHVybiBtb25nb29zZS5jb25uZWN0KHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJISk7XG4vLyB9XG5cbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbi8vICAgdHJ5IHtcbi8vICAgICBjb25zdCB1c2VySWRlbnRpZmllciA9IGF3YWl0IGdldFVzZXJJZChyZXF1ZXN0KTtcbi8vICAgICBpZiAoIXVzZXJJZGVudGlmaWVyKSB7XG4vLyAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LCB7IHN0YXR1czogNDAxIH0pO1xuLy8gICAgIH1cblxuLy8gICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbi8vICAgICBjb25zdCBtZXRhZGF0YSA9IHNlYXJjaFBhcmFtcy5nZXQoXCJtZXRhZGF0YVwiKSA9PT0gXCJ0cnVlXCI7XG4vLyAgICAgY29uc3QgdXNlcklkID0gc2VhcmNoUGFyYW1zLmdldChcInVzZXJJZFwiKTtcblxuLy8gICAgIGlmICh1c2VySWQgIT09IHVzZXJJZGVudGlmaWVyKSB7XG4vLyAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJGb3JiaWRkZW46IFVzZXIgSUQgZG9lcyBub3QgbWF0Y2hcIiB9LCB7IHN0YXR1czogNDAzIH0pO1xuLy8gICAgIH1cblxuLy8gICAgIGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XG5cbi8vICAgICBjb25zdCB2aWRlb3MgPSBhd2FpdCBWaWRlb091dHB1dC5maW5kKHsgdXNlcklkZW50aWZpZXIsIHN0YXR1czogXCJjb21wbGV0ZWRcIiB9KS5zZWxlY3QoXG4vLyAgICAgICBcIl9pZCB2aWRlb0RhdGEgYXVkaW9JZCBjcmVhdGVkQXRcIlxuLy8gICAgICk7XG5cbi8vICAgICBpZiAobWV0YWRhdGEpIHtcbi8vICAgICAgIGNvbnN0IHZpZGVvRGF0YSA9IHZpZGVvcy5tYXAoKHZpZGVvKSA9PiAoe1xuLy8gICAgICAgICBfaWQ6IHZpZGVvLl9pZCxcbi8vICAgICAgICAgbmFtZTogYHZpZGVvLSR7dmlkZW8uX2lkfWAsXG4vLyAgICAgICAgIHZpZGVvRGF0YTogdmlkZW8udmlkZW9EYXRhLnRvU3RyaW5nKFwiYmFzZTY0XCIpLFxuLy8gICAgICAgICBjcmVhdGVkQXQ6IHZpZGVvLmNyZWF0ZWRBdC50b0lTT1N0cmluZygpLFxuLy8gICAgICAgICB1c2VySWRlbnRpZmllcjogdXNlcklkZW50aWZpZXIsXG4vLyAgICAgICAgIGF1ZGlvSWQ6IHZpZGVvLmF1ZGlvSWQsXG4vLyAgICAgICB9KSk7XG5cbi8vICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHZpZGVvczogdmlkZW9EYXRhIH0sIHsgc3RhdHVzOiAyMDAgfSk7XG4vLyAgICAgfVxuXG4vLyAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiTWV0YWRhdGEgcGFyYW1ldGVyIHJlcXVpcmVkXCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgdmlkZW9zOlwiLCBlcnJvcik7XG4vLyAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuLy8gICAgICAgeyBlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggdmlkZW9zXCIsIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSB9LFxuLy8gICAgICAgeyBzdGF0dXM6IDUwMCB9XG4vLyAgICAgKTtcbi8vICAgfVxuLy8gfVxuXG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4vLyAgIHRyeSB7XG4vLyAgICAgY29uc3QgdXNlcklkZW50aWZpZXIgPSBhd2FpdCBnZXRVc2VySWQocmVxdWVzdCk7XG4vLyAgICAgaWYgKCF1c2VySWRlbnRpZmllcikge1xuLy8gICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbi8vICAgICB9XG5cbi8vICAgICBjb25zdCB7IGlkIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbi8vICAgICBpZiAoIWlkKSB7XG4vLyAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJNaXNzaW5nIHZpZGVvIGlkXCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbi8vICAgICB9XG5cbi8vICAgICBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpO1xuXG4vLyAgICAgY29uc3QgdmlkZW8gPSBhd2FpdCBWaWRlb091dHB1dC5maW5kT25lKHsgX2lkOiBpZCwgdXNlcklkZW50aWZpZXIgfSk7XG4vLyAgICAgaWYgKCF2aWRlbykge1xuLy8gICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiVmlkZW8gbm90IGZvdW5kIG9yIG5vdCBhdXRob3JpemVkXCIgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbi8vICAgICB9XG5cbi8vICAgICAvLyBNb3ZlIHRvIHRyYXNoIGluc3RlYWQgb2YgZGVsZXRpbmdcbi8vICAgICBhd2FpdCBWaWRlb091dHB1dC51cGRhdGVPbmUoXG4vLyAgICAgICB7IF9pZDogaWQgfSxcbi8vICAgICAgIHsgc3RhdHVzOiBcInRyYXNoZWRcIiwgZGVsZXRlZEF0OiBuZXcgRGF0ZSgpIH1cbi8vICAgICApO1xuXG4vLyAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJWaWRlbyBtb3ZlZCB0byB0cmFzaFwiIH0sIHsgc3RhdHVzOiAyMDAgfSk7XG4vLyAgIH0gY2F0Y2ggKGVycm9yKSB7XG4vLyAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIG1vdmluZyB2aWRlbyB0byB0cmFzaDpcIiwgZXJyb3IpO1xuLy8gICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbi8vICAgICAgIHsgZXJyb3I6IFwiRmFpbGVkIHRvIG1vdmUgdmlkZW8gdG8gdHJhc2hcIiwgZGV0YWlsczogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpIH0sXG4vLyAgICAgICB7IHN0YXR1czogNTAwIH1cbi8vICAgICApO1xuLy8gICB9XG4vLyB9XG5cblxuXG5cblxuXG5cblxuXG5cbmltcG9ydCB7IE5leHRSZXNwb25zZSwgTmV4dFJlcXVlc3QgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBWaWRlb091dHB1dCBmcm9tIFwiQC9tb2RlbC92aWRlb091dHB1dFwiO1xuaW1wb3J0IHsgZ2V0VXNlcklkIH0gZnJvbSBcIkAvbGliL2F1dGhlbnRpY2F0ZVwiO1xuaW1wb3J0IHByaXNtYSBmcm9tIFwiQC9saWIvcHJpc21hXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0RhdGFiYXNlKCkge1xuICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbi5yZWFkeVN0YXRlID49IDEpIHJldHVybjtcbiAgcmV0dXJuIG1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkhKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXJJZGVudGlmaWVyID0gYXdhaXQgZ2V0VXNlcklkKHJlcXVlc3QpO1xuICAgIGlmICghdXNlcklkZW50aWZpZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IG1ldGFkYXRhID0gc2VhcmNoUGFyYW1zLmdldChcIm1ldGFkYXRhXCIpID09PSBcInRydWVcIjtcbiAgICBjb25zdCB1c2VySWQgPSBzZWFyY2hQYXJhbXMuZ2V0KFwidXNlcklkXCIpO1xuXG4gICAgaWYgKHVzZXJJZGVudGlmaWVyICE9PSB1c2VySWRlbnRpZmllcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiRm9yYmlkZGVuOiBVc2VyIElEIGRvZXMgbm90IG1hdGNoXCIgfSwgeyBzdGF0dXM6IDQwMyB9KTtcbiAgICB9XG5cbiAgICBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpO1xuXG4gICAgY29uc3QgdmlkZW9zID0gYXdhaXQgVmlkZW9PdXRwdXQuZmluZCh7IHVzZXJJZGVudGlmaWVyLCBzdGF0dXM6IFwiY29tcGxldGVkXCIgfSkuc2VsZWN0KFxuICAgICAgXCJfaWQgdmlkZW9EYXRhIGF1ZGlvSWQgY3JlYXRlZEF0XCJcbiAgICApO1xuXG4gICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICBjb25zdCB2aWRlb0RhdGEgPSB2aWRlb3MubWFwKCh2aWRlbykgPT4gKHtcbiAgICAgICAgX2lkOiB2aWRlby5faWQsXG4gICAgICAgIG5hbWU6IGB2aWRlby0ke3ZpZGVvLl9pZH1gLFxuICAgICAgICB2aWRlb0RhdGE6IHZpZGVvLnZpZGVvRGF0YS50b1N0cmluZyhcImJhc2U2NFwiKSxcbiAgICAgICAgY3JlYXRlZEF0OiB2aWRlby5jcmVhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXNlcklkZW50aWZpZXI6IHVzZXJJZGVudGlmaWVyLFxuICAgICAgICBhdWRpb0lkOiB2aWRlby5hdWRpb0lkLFxuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyB2aWRlb3M6IHZpZGVvRGF0YSB9LCB7IHN0YXR1czogMjAwIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIk1ldGFkYXRhIHBhcmFtZXRlciByZXF1aXJlZFwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHZpZGVvczpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIHZpZGVvc1wiLCBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcikgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXJJZGVudGlmaWVyID0gYXdhaXQgZ2V0VXNlcklkKHJlcXVlc3QpO1xuICAgIGlmICghdXNlcklkZW50aWZpZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpZCB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgaWYgKCFpZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiTWlzc2luZyB2aWRlbyBpZFwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKTtcblxuICAgIGNvbnN0IHZpZGVvID0gYXdhaXQgVmlkZW9PdXRwdXQuZmluZE9uZSh7IF9pZDogaWQsIHVzZXJJZGVudGlmaWVyIH0pO1xuICAgIGlmICghdmlkZW8pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlZpZGVvIG5vdCBmb3VuZCBvciBub3QgYXV0aG9yaXplZFwiIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRvIFRyYXNoSXRlbSB0YWJsZVxuICAgIGF3YWl0IHByaXNtYS50cmFzaEl0ZW0uY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgIGl0ZW1JZDogaWQsXG4gICAgICAgIGl0ZW1UeXBlOiBcInZpZGVvXCIsXG4gICAgICAgIHVzZXJJZGVudGlmaWVyLFxuICAgICAgICBuYW1lOiBgdmlkZW8tJHtpZH1gLFxuICAgICAgICB0aHVtYm5haWw6IHZpZGVvLnZpZGVvRGF0YSxcbiAgICAgICAgZGVsZXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIE1vdmUgdG8gdHJhc2ggaW4gTW9uZ29EQlxuICAgIGF3YWl0IFZpZGVvT3V0cHV0LnVwZGF0ZU9uZShcbiAgICAgIHsgX2lkOiBpZCB9LFxuICAgICAgeyBzdGF0dXM6IFwidHJhc2hlZFwiLCBkZWxldGVkQXQ6IG5ldyBEYXRlKCkgfVxuICAgICk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIlZpZGVvIG1vdmVkIHRvIHRyYXNoXCIgfSwgeyBzdGF0dXM6IDIwMCB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbW92aW5nIHZpZGVvIHRvIHRyYXNoOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogXCJGYWlsZWQgdG8gbW92ZSB2aWRlbyB0byB0cmFzaFwiLCBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcikgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwibW9uZ29vc2UiLCJWaWRlb091dHB1dCIsImdldFVzZXJJZCIsInByaXNtYSIsImNvbm5lY3RUb0RhdGFiYXNlIiwiY29ubmVjdGlvbiIsInJlYWR5U3RhdGUiLCJjb25uZWN0IiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwiR0VUIiwicmVxdWVzdCIsInVzZXJJZGVudGlmaWVyIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwibWV0YWRhdGEiLCJnZXQiLCJ1c2VySWQiLCJ2aWRlb3MiLCJmaW5kIiwic2VsZWN0IiwidmlkZW9EYXRhIiwibWFwIiwidmlkZW8iLCJfaWQiLCJuYW1lIiwidG9TdHJpbmciLCJjcmVhdGVkQXQiLCJ0b0lTT1N0cmluZyIsImF1ZGlvSWQiLCJjb25zb2xlIiwiZGV0YWlscyIsIkVycm9yIiwibWVzc2FnZSIsIlN0cmluZyIsIkRFTEVURSIsImlkIiwiZmluZE9uZSIsInRyYXNoSXRlbSIsImNyZWF0ZSIsImRhdGEiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiaXRlbUlkIiwiaXRlbVR5cGUiLCJ0aHVtYm5haWwiLCJkZWxldGVkQXQiLCJEYXRlIiwidXBkYXRlT25lIiwic3VjY2VzcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/videos/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/authenticate.ts":
/*!*****************************!*\
  !*** ./lib/authenticate.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEmail: () => (/* binding */ getEmail),\n/* harmony export */   getUserId: () => (/* binding */ getUserId)\n/* harmony export */ });\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cookie */ \"(rsc)/./node_modules/cookie/dist/index.js\");\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jwt-decode */ \"(rsc)/./node_modules/jwt-decode/build/esm/index.js\");\n// import { parse } from 'cookie'\n// import {jwtDecode} from \"jwt-decode\";\n// import { NextRequest } from 'next/server';\n// export const getEmail = () => {\n//   console.log(document.cookie)\n//   const cookie = parse(document.cookie);\n//   const token = cookie.token;\n//   console.log(token)\n//   if (!token) return null;\n//   try {\n//     const decoded = jwtDecode(token) as { email: string,username:string,image:string };\n//     console.log(decoded)\n//     return {email:decoded.email,username:decoded.username,image:decoded.image};\n//   } catch {\n//     return null;\n//   }\n// };\n// export const getUserId = (request?: NextRequest): string | null => {\n//   let token: string | undefined;\n//   if (typeof window !== \"undefined\") {\n//     console.log(\"getUserId called (client-side), cookies:\");\n//     const cookie = parse(document.cookie);\n//     token = cookie.token;\n//   } else if (request) {\n//     console.log(\"getUserId called (server-side), cookies:\");\n//     const cookieHeader = request.headers.get(\"cookie\");\n//     const cookie = cookieHeader ? parse(cookieHeader) : {};\n//     token = cookie.token;\n//   } else {\n//     console.log(\"getUserId called (server-side), no request object provided\");\n//     return null;\n//   }\n//   if (!token) {\n//     console.log(\"No token found\");\n//     return null;\n//   }\n//   try {\n//     // In a real app, you would verify the token (e.g., decode JWT)\n//     // For this example, assume the token is the userIdentifier\n//     const userIdentifier = token; // Simplified; replace with actual token parsing/verification\n//     return userIdentifier;\n//   } catch (error) {\n//     console.error(\"Error parsing token:\", error);\n//     return null;\n//   }\n// };\n\n\nconst getEmail = ()=>{\n    if (true) {\n        console.log(\"getEmail called (server-side), cannot access document.cookie\");\n        return null;\n    }\n    console.log(\"getEmail called (client-side), cookies:\", document.cookie);\n    const cookie = (0,cookie__WEBPACK_IMPORTED_MODULE_0__.parse)(document.cookie);\n    const token = cookie.token;\n    console.log(\"Token:\", token);\n    if (!token) return null;\n    try {\n        const decoded = (0,jwt_decode__WEBPACK_IMPORTED_MODULE_1__.jwtDecode)(token);\n        console.log(\"Decoded token:\", decoded);\n        return {\n            email: decoded.email,\n            username: decoded.username,\n            userId: decoded.userId,\n            image: decoded.image\n        };\n    } catch (error) {\n        console.error(\"Error decoding token in getEmail:\", error);\n        return null;\n    }\n};\nconst getUserId = (request)=>{\n    let token;\n    if (false) {} else if (request) {\n        console.log(\"getUserId called (server-side), cookies:\");\n        const cookieHeader = request.headers.get(\"cookie\");\n        const cookie = cookieHeader ? (0,cookie__WEBPACK_IMPORTED_MODULE_0__.parse)(cookieHeader) : {};\n        token = cookie.token;\n    } else {\n        console.log(\"getUserId called (server-side), no request object provided\");\n        return null;\n    }\n    if (!token) {\n        console.log(\"No token found\");\n        return null;\n    }\n    try {\n        const decoded = (0,jwt_decode__WEBPACK_IMPORTED_MODULE_1__.jwtDecode)(token);\n        console.log(\"Decoded token:\", decoded);\n        return decoded.userId; // Return the userId from the JWT payload\n    } catch (error) {\n        console.error(\"Error decoding token in getUserId:\", error);\n        return null;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aGVudGljYXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxpQ0FBaUM7QUFDakMsd0NBQXdDO0FBQ3hDLDZDQUE2QztBQUU3QyxrQ0FBa0M7QUFDbEMsaUNBQWlDO0FBQ2pDLDJDQUEyQztBQUMzQyxnQ0FBZ0M7QUFDaEMsdUJBQXVCO0FBQ3ZCLDZCQUE2QjtBQUU3QixVQUFVO0FBQ1YsMEZBQTBGO0FBQzFGLDJCQUEyQjtBQUMzQixrRkFBa0Y7QUFDbEYsY0FBYztBQUNkLG1CQUFtQjtBQUNuQixNQUFNO0FBQ04sS0FBSztBQUVMLHVFQUF1RTtBQUN2RSxtQ0FBbUM7QUFFbkMseUNBQXlDO0FBQ3pDLCtEQUErRDtBQUMvRCw2Q0FBNkM7QUFDN0MsNEJBQTRCO0FBQzVCLDBCQUEwQjtBQUMxQiwrREFBK0Q7QUFDL0QsMERBQTBEO0FBQzFELDhEQUE4RDtBQUM5RCw0QkFBNEI7QUFDNUIsYUFBYTtBQUNiLGlGQUFpRjtBQUNqRixtQkFBbUI7QUFDbkIsTUFBTTtBQUdOLGtCQUFrQjtBQUNsQixxQ0FBcUM7QUFDckMsbUJBQW1CO0FBQ25CLE1BQU07QUFFTixVQUFVO0FBQ1Ysc0VBQXNFO0FBQ3RFLGtFQUFrRTtBQUNsRSxrR0FBa0c7QUFDbEcsNkJBQTZCO0FBQzdCLHNCQUFzQjtBQUN0QixvREFBb0Q7QUFDcEQsbUJBQW1CO0FBQ25CLE1BQU07QUFDTixLQUFLO0FBRzBCO0FBQ1E7QUFZaEMsTUFBTUUsV0FBVztJQUN0QixJQUFJLElBQTZCLEVBQUU7UUFDakNDLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU87SUFDVDtJQUVBRCxRQUFRQyxHQUFHLENBQUMsMkNBQTJDQyxTQUFTQyxNQUFNO0lBQ3RFLE1BQU1BLFNBQVNOLDZDQUFLQSxDQUFDSyxTQUFTQyxNQUFNO0lBQ3BDLE1BQU1DLFFBQVFELE9BQU9DLEtBQUs7SUFDMUJKLFFBQVFDLEdBQUcsQ0FBQyxVQUFVRztJQUV0QixJQUFJLENBQUNBLE9BQU8sT0FBTztJQUVuQixJQUFJO1FBQ0YsTUFBTUMsVUFBVVAscURBQVNBLENBQWVNO1FBQ3hDSixRQUFRQyxHQUFHLENBQUMsa0JBQWtCSTtRQUM5QixPQUFPO1lBQ0xDLE9BQU9ELFFBQVFDLEtBQUs7WUFDcEJDLFVBQVVGLFFBQVFFLFFBQVE7WUFDMUJDLFFBQVFILFFBQVFHLE1BQU07WUFDdEJDLE9BQU9KLFFBQVFJLEtBQUs7UUFDdEI7SUFDRixFQUFFLE9BQU9DLE9BQU87UUFDZFYsUUFBUVUsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDbkQsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVLLE1BQU1DLFlBQVksQ0FBQ0M7SUFDeEIsSUFBSVI7SUFFSixJQUFJLEtBQTZCLEVBQUUsRUFJbEMsTUFBTSxJQUFJUSxTQUFTO1FBQ2xCWixRQUFRQyxHQUFHLENBQUM7UUFDWixNQUFNWSxlQUFlRCxRQUFRRSxPQUFPLENBQUNDLEdBQUcsQ0FBQztRQUN6QyxNQUFNWixTQUFTVSxlQUFlaEIsNkNBQUtBLENBQUNnQixnQkFBZ0IsQ0FBQztRQUNyRFQsUUFBUUQsT0FBT0MsS0FBSztJQUN0QixPQUFPO1FBQ0xKLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU87SUFDVDtJQUVBLElBQUksQ0FBQ0csT0FBTztRQUNWSixRQUFRQyxHQUFHLENBQUM7UUFDWixPQUFPO0lBQ1Q7SUFFQSxJQUFJO1FBQ0YsTUFBTUksVUFBVVAscURBQVNBLENBQWVNO1FBQ3hDSixRQUFRQyxHQUFHLENBQUMsa0JBQWtCSTtRQUM5QixPQUFPQSxRQUFRRyxNQUFNLEVBQUUseUNBQXlDO0lBQ2xFLEVBQUUsT0FBT0UsT0FBTztRQUNkVixRQUFRVSxLQUFLLENBQUMsc0NBQXNDQTtRQUNwRCxPQUFPO0lBQ1Q7QUFDRixFQUFFIiwic291cmNlcyI6WyIvaG9tZS92dnIvUFJPSkVDVC9BdmF0YXJMYWItRzMzMS1QUzI1X18vbGliL2F1dGhlbnRpY2F0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBwYXJzZSB9IGZyb20gJ2Nvb2tpZSdcclxuLy8gaW1wb3J0IHtqd3REZWNvZGV9IGZyb20gXCJqd3QtZGVjb2RlXCI7XHJcbi8vIGltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5cclxuLy8gZXhwb3J0IGNvbnN0IGdldEVtYWlsID0gKCkgPT4ge1xyXG4vLyAgIGNvbnNvbGUubG9nKGRvY3VtZW50LmNvb2tpZSlcclxuLy8gICBjb25zdCBjb29raWUgPSBwYXJzZShkb2N1bWVudC5jb29raWUpO1xyXG4vLyAgIGNvbnN0IHRva2VuID0gY29va2llLnRva2VuO1xyXG4vLyAgIGNvbnNvbGUubG9nKHRva2VuKVxyXG4vLyAgIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xyXG5cclxuLy8gICB0cnkge1xyXG4vLyAgICAgY29uc3QgZGVjb2RlZCA9IGp3dERlY29kZSh0b2tlbikgYXMgeyBlbWFpbDogc3RyaW5nLHVzZXJuYW1lOnN0cmluZyxpbWFnZTpzdHJpbmcgfTtcclxuLy8gICAgIGNvbnNvbGUubG9nKGRlY29kZWQpXHJcbi8vICAgICByZXR1cm4ge2VtYWlsOmRlY29kZWQuZW1haWwsdXNlcm5hbWU6ZGVjb2RlZC51c2VybmFtZSxpbWFnZTpkZWNvZGVkLmltYWdlfTtcclxuLy8gICB9IGNhdGNoIHtcclxuLy8gICAgIHJldHVybiBudWxsO1xyXG4vLyAgIH1cclxuLy8gfTtcclxuXHJcbi8vIGV4cG9ydCBjb25zdCBnZXRVc2VySWQgPSAocmVxdWVzdD86IE5leHRSZXF1ZXN0KTogc3RyaW5nIHwgbnVsbCA9PiB7XHJcbi8vICAgbGV0IHRva2VuOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcblxyXG4vLyAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbi8vICAgICBjb25zb2xlLmxvZyhcImdldFVzZXJJZCBjYWxsZWQgKGNsaWVudC1zaWRlKSwgY29va2llczpcIik7XHJcbi8vICAgICBjb25zdCBjb29raWUgPSBwYXJzZShkb2N1bWVudC5jb29raWUpO1xyXG4vLyAgICAgdG9rZW4gPSBjb29raWUudG9rZW47XHJcbi8vICAgfSBlbHNlIGlmIChyZXF1ZXN0KSB7XHJcbi8vICAgICBjb25zb2xlLmxvZyhcImdldFVzZXJJZCBjYWxsZWQgKHNlcnZlci1zaWRlKSwgY29va2llczpcIik7XHJcbi8vICAgICBjb25zdCBjb29raWVIZWFkZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KFwiY29va2llXCIpO1xyXG4vLyAgICAgY29uc3QgY29va2llID0gY29va2llSGVhZGVyID8gcGFyc2UoY29va2llSGVhZGVyKSA6IHt9O1xyXG4vLyAgICAgdG9rZW4gPSBjb29raWUudG9rZW47XHJcbi8vICAgfSBlbHNlIHtcclxuLy8gICAgIGNvbnNvbGUubG9nKFwiZ2V0VXNlcklkIGNhbGxlZCAoc2VydmVyLXNpZGUpLCBubyByZXF1ZXN0IG9iamVjdCBwcm92aWRlZFwiKTtcclxuLy8gICAgIHJldHVybiBudWxsO1xyXG4vLyAgIH1cclxuXHJcblxyXG4vLyAgIGlmICghdG9rZW4pIHtcclxuLy8gICAgIGNvbnNvbGUubG9nKFwiTm8gdG9rZW4gZm91bmRcIik7XHJcbi8vICAgICByZXR1cm4gbnVsbDtcclxuLy8gICB9XHJcblxyXG4vLyAgIHRyeSB7XHJcbi8vICAgICAvLyBJbiBhIHJlYWwgYXBwLCB5b3Ugd291bGQgdmVyaWZ5IHRoZSB0b2tlbiAoZS5nLiwgZGVjb2RlIEpXVClcclxuLy8gICAgIC8vIEZvciB0aGlzIGV4YW1wbGUsIGFzc3VtZSB0aGUgdG9rZW4gaXMgdGhlIHVzZXJJZGVudGlmaWVyXHJcbi8vICAgICBjb25zdCB1c2VySWRlbnRpZmllciA9IHRva2VuOyAvLyBTaW1wbGlmaWVkOyByZXBsYWNlIHdpdGggYWN0dWFsIHRva2VuIHBhcnNpbmcvdmVyaWZpY2F0aW9uXHJcbi8vICAgICByZXR1cm4gdXNlcklkZW50aWZpZXI7XHJcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIHRva2VuOlwiLCBlcnJvcik7XHJcbi8vICAgICByZXR1cm4gbnVsbDtcclxuLy8gICB9XHJcbi8vIH07XHJcblxyXG5cclxuaW1wb3J0IHsgcGFyc2UgfSBmcm9tICdjb29raWUnO1xyXG5pbXBvcnQgeyBqd3REZWNvZGUgfSBmcm9tIFwiand0LWRlY29kZVwiO1xyXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcclxuXHJcbmludGVyZmFjZSBEZWNvZGVkVG9rZW4ge1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgdXNlcm5hbWU6IHN0cmluZztcclxuICB1c2VySWQ6IHN0cmluZzsgLy8gT2JqZWN0SWQgZnJvbSBKV1QgcGF5bG9hZFxyXG4gIGltYWdlOiBzdHJpbmc7XHJcbiAgaWF0OiBudW1iZXI7XHJcbiAgZXhwOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRFbWFpbCA9ICgpID0+IHtcclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgY29uc29sZS5sb2coXCJnZXRFbWFpbCBjYWxsZWQgKHNlcnZlci1zaWRlKSwgY2Fubm90IGFjY2VzcyBkb2N1bWVudC5jb29raWVcIik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKFwiZ2V0RW1haWwgY2FsbGVkIChjbGllbnQtc2lkZSksIGNvb2tpZXM6XCIsIGRvY3VtZW50LmNvb2tpZSk7XHJcbiAgY29uc3QgY29va2llID0gcGFyc2UoZG9jdW1lbnQuY29va2llKTtcclxuICBjb25zdCB0b2tlbiA9IGNvb2tpZS50b2tlbjtcclxuICBjb25zb2xlLmxvZyhcIlRva2VuOlwiLCB0b2tlbik7XHJcblxyXG4gIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dERlY29kZTxEZWNvZGVkVG9rZW4+KHRva2VuKTtcclxuICAgIGNvbnNvbGUubG9nKFwiRGVjb2RlZCB0b2tlbjpcIiwgZGVjb2RlZCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBlbWFpbDogZGVjb2RlZC5lbWFpbCxcclxuICAgICAgdXNlcm5hbWU6IGRlY29kZWQudXNlcm5hbWUsXHJcbiAgICAgIHVzZXJJZDogZGVjb2RlZC51c2VySWQsIC8vIEluY2x1ZGUgdXNlcklkIGluIHRoZSByZXR1cm4gb2JqZWN0XHJcbiAgICAgIGltYWdlOiBkZWNvZGVkLmltYWdlLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlY29kaW5nIHRva2VuIGluIGdldEVtYWlsOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VXNlcklkID0gKHJlcXVlc3Q/OiBOZXh0UmVxdWVzdCk6IHN0cmluZyB8IG51bGwgPT4ge1xyXG4gIGxldCB0b2tlbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG5cclxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgY29uc29sZS5sb2coXCJnZXRVc2VySWQgY2FsbGVkIChjbGllbnQtc2lkZSksIGNvb2tpZXM6XCIpO1xyXG4gICAgY29uc3QgY29va2llID0gcGFyc2UoZG9jdW1lbnQuY29va2llKTtcclxuICAgIHRva2VuID0gY29va2llLnRva2VuO1xyXG4gIH0gZWxzZSBpZiAocmVxdWVzdCkge1xyXG4gICAgY29uc29sZS5sb2coXCJnZXRVc2VySWQgY2FsbGVkIChzZXJ2ZXItc2lkZSksIGNvb2tpZXM6XCIpO1xyXG4gICAgY29uc3QgY29va2llSGVhZGVyID0gcmVxdWVzdC5oZWFkZXJzLmdldChcImNvb2tpZVwiKTtcclxuICAgIGNvbnN0IGNvb2tpZSA9IGNvb2tpZUhlYWRlciA/IHBhcnNlKGNvb2tpZUhlYWRlcikgOiB7fTtcclxuICAgIHRva2VuID0gY29va2llLnRva2VuO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zb2xlLmxvZyhcImdldFVzZXJJZCBjYWxsZWQgKHNlcnZlci1zaWRlKSwgbm8gcmVxdWVzdCBvYmplY3QgcHJvdmlkZWRcIik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGlmICghdG9rZW4pIHtcclxuICAgIGNvbnNvbGUubG9nKFwiTm8gdG9rZW4gZm91bmRcIik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkZWNvZGVkID0gand0RGVjb2RlPERlY29kZWRUb2tlbj4odG9rZW4pO1xyXG4gICAgY29uc29sZS5sb2coXCJEZWNvZGVkIHRva2VuOlwiLCBkZWNvZGVkKTtcclxuICAgIHJldHVybiBkZWNvZGVkLnVzZXJJZDsgLy8gUmV0dXJuIHRoZSB1c2VySWQgZnJvbSB0aGUgSldUIHBheWxvYWRcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlY29kaW5nIHRva2VuIGluIGdldFVzZXJJZDpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59OyJdLCJuYW1lcyI6WyJwYXJzZSIsImp3dERlY29kZSIsImdldEVtYWlsIiwiY29uc29sZSIsImxvZyIsImRvY3VtZW50IiwiY29va2llIiwidG9rZW4iLCJkZWNvZGVkIiwiZW1haWwiLCJ1c2VybmFtZSIsInVzZXJJZCIsImltYWdlIiwiZXJyb3IiLCJnZXRVc2VySWQiLCJyZXF1ZXN0IiwiY29va2llSGVhZGVyIiwiaGVhZGVycyIsImdldCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/authenticate.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n// lib/prisma.ts\n\nconst prisma = global.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) global.prisma = prisma;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdCQUFnQjtBQUM4QjtBQUU5QyxNQUFNQyxTQUFTQyxPQUFPRCxNQUFNLElBQUksSUFBSUQsd0RBQVlBO0FBRWhELElBQUlHLElBQXFDLEVBQUVELE9BQU9ELE1BQU0sR0FBR0E7QUFFM0QsaUVBQWVBLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL3Z2ci9QUk9KRUNUL0F2YXRhckxhYi1HMzMxLVBTMjVfXy9saWIvcHJpc21hLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxpYi9wcmlzbWEudHNcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xuXG5jb25zdCBwcmlzbWEgPSBnbG9iYWwucHJpc21hIHx8IG5ldyBQcmlzbWFDbGllbnQoKTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgZ2xvYmFsLnByaXNtYSA9IHByaXNtYTtcblxuZXhwb3J0IGRlZmF1bHQgcHJpc21hOyJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWEiLCJnbG9iYWwiLCJwcm9jZXNzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./model/videoOutput.ts":
/*!******************************!*\
  !*** ./model/videoOutput.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n\n\nconst videoOutputSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    _id: {\n        type: String,\n        default: uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n    },\n    filename: String,\n    uploadDate: {\n        type: Date,\n        default: Date.now\n    },\n    videoData: Buffer,\n    templateId: String,\n    status: {\n        type: String,\n        default: \"processing\",\n        enum: [\n            \"processing\",\n            \"completed\",\n            \"failed\"\n        ]\n    },\n    userIdentifier: String,\n    audioId: String,\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\nconst VideoOutput = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).VideoOutput || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"VideoOutput\", videoOutputSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (VideoOutput);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbC92aWRlb091dHB1dC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ2dDO0FBQ0U7QUFFbEMsTUFBTUcsb0JBQW9CLElBQUlILHdEQUFlLENBQUM7SUFDNUNLLEtBQUs7UUFBRUMsTUFBTUM7UUFBUUMsU0FBU04sNENBQUlBO0lBQUM7SUFDbkNPLFVBQVVGO0lBQ1ZHLFlBQVk7UUFBRUosTUFBTUs7UUFBTUgsU0FBU0csS0FBS0MsR0FBRztJQUFDO0lBQzVDQyxXQUFXQztJQUNYQyxZQUFZUjtJQUNaUyxRQUFRO1FBQUVWLE1BQU1DO1FBQVFDLFNBQVM7UUFBY1MsTUFBTTtZQUFDO1lBQWM7WUFBYTtTQUFTO0lBQUM7SUFDM0ZDLGdCQUFnQlg7SUFDaEJZLFNBQVNaO0lBQ1RhLFdBQVc7UUFBRWQsTUFBTUs7UUFBTUgsU0FBU0csS0FBS0MsR0FBRztJQUFDO0FBQzdDO0FBRUEsTUFBTVMsY0FBY3JCLHdEQUFlLENBQUNxQixXQUFXLElBQUlyQixxREFBYyxDQUFDLGVBQWVHO0FBQ2pGLGlFQUFla0IsV0FBV0EsRUFBQyIsInNvdXJjZXMiOlsiL2hvbWUvdnZyL1BST0pFQ1QvQXZhdGFyTGFiLUczMzEtUFMyNV9fL21vZGVsL3ZpZGVvT3V0cHV0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gXCJ1dWlkXCI7XG5cbmNvbnN0IHZpZGVvT3V0cHV0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIF9pZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IHV1aWQgfSxcbiAgZmlsZW5hbWU6IFN0cmluZyxcbiAgdXBsb2FkRGF0ZTogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxuICB2aWRlb0RhdGE6IEJ1ZmZlcixcbiAgdGVtcGxhdGVJZDogU3RyaW5nLFxuICBzdGF0dXM6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcInByb2Nlc3NpbmdcIiwgZW51bTogW1wicHJvY2Vzc2luZ1wiLCBcImNvbXBsZXRlZFwiLCBcImZhaWxlZFwiXSB9LFxuICB1c2VySWRlbnRpZmllcjogU3RyaW5nLFxuICBhdWRpb0lkOiBTdHJpbmcsXG4gIGNyZWF0ZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxufSk7XG5cbmNvbnN0IFZpZGVvT3V0cHV0ID0gbW9uZ29vc2UubW9kZWxzLlZpZGVvT3V0cHV0IHx8IG1vbmdvb3NlLm1vZGVsKFwiVmlkZW9PdXRwdXRcIiwgdmlkZW9PdXRwdXRTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVmlkZW9PdXRwdXQ7XG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJ2NCIsInV1aWQiLCJ2aWRlb091dHB1dFNjaGVtYSIsIlNjaGVtYSIsIl9pZCIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwiZmlsZW5hbWUiLCJ1cGxvYWREYXRlIiwiRGF0ZSIsIm5vdyIsInZpZGVvRGF0YSIsIkJ1ZmZlciIsInRlbXBsYXRlSWQiLCJzdGF0dXMiLCJlbnVtIiwidXNlcklkZW50aWZpZXIiLCJhdWRpb0lkIiwiY3JlYXRlZEF0IiwiVmlkZW9PdXRwdXQiLCJtb2RlbHMiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./model/videoOutput.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fvideos%2Froute&page=%2Fapi%2Fvideos%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvideos%2Froute.ts&appDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fvideos%2Froute&page=%2Fapi%2Fvideos%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvideos%2Froute.ts&appDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_vvr_PROJECT_AvatarLab_G331_PS25_app_api_videos_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/videos/route.ts */ \"(rsc)/./app/api/videos/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/videos/route\",\n        pathname: \"/api/videos\",\n        filename: \"route\",\n        bundlePath: \"app/api/videos/route\"\n    },\n    resolvedPagePath: \"/home/vvr/PROJECT/AvatarLab-G331-PS25__/app/api/videos/route.ts\",\n    nextConfigOutput,\n    userland: _home_vvr_PROJECT_AvatarLab_G331_PS25_app_api_videos_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZ2aWRlb3MlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnZpZGVvcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnZpZGVvcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGdnZyJTJGUFJPSkVDVCUyRkF2YXRhckxhYi1HMzMxLVBTMjVfXyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRnZ2ciUyRlBST0pFQ1QlMkZBdmF0YXJMYWItRzMzMS1QUzI1X18maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ2U7QUFDNUY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL3Z2ci9QUk9KRUNUL0F2YXRhckxhYi1HMzMxLVBTMjVfXy9hcHAvYXBpL3ZpZGVvcy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdmlkZW9zL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdmlkZW9zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS92aWRlb3Mvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvaG9tZS92dnIvUFJPSkVDVC9BdmF0YXJMYWItRzMzMS1QUzI1X18vYXBwL2FwaS92aWRlb3Mvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fvideos%2Froute&page=%2Fapi%2Fvideos%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvideos%2Froute.ts&appDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/cookie","vendor-chunks/jwt-decode","vendor-chunks/uuid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fvideos%2Froute&page=%2Fapi%2Fvideos%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvideos%2Froute.ts&appDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();