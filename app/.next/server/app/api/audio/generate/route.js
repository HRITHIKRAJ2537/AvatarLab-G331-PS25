/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/audio/generate/route";
exports.ids = ["app/api/audio/generate/route"];
exports.modules = {

/***/ "(rsc)/./app/api/audio/generate/route.ts":
/*!*****************************************!*\
  !*** ./app/api/audio/generate/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nasync function POST(req) {\n    console.log(\"Received POST request to /api/audio/generate\");\n    try {\n        const { text, userIdentifier, voiceId } = await req.json();\n        // Validate required fields\n        if (!text || !userIdentifier || !voiceId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"text, userIdentifier, and voiceId are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Fetch voice data from Prisma\n        const voice = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].voice.findUnique({\n            where: {\n                id: voiceId\n            },\n            select: {\n                name: true,\n                text_normalized: true,\n                audio: true\n            }\n        });\n        if (!voice || !voice.audio) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Voice not found or audio data missing\"\n            }, {\n                status: 404\n            });\n        }\n        // Ensure text_normalized is present\n        const normalizedText = voice.text_normalized;\n        if (!normalizedText) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"text_normalized is required in voice data\"\n            }, {\n                status: 400\n            });\n        }\n        // Convert audio Buffer to File\n        const audioBuffer = buffer__WEBPACK_IMPORTED_MODULE_2__.Buffer.from(voice.audio);\n        const audioBlob = new Blob([\n            audioBuffer\n        ], {\n            type: \"audio/wav\"\n        });\n        const audioFile = new File([\n            audioBlob\n        ], \"input_audio.wav\", {\n            type: \"audio/wav\"\n        });\n        if (!audioFile.size) {\n            throw new Error(\"Audio file creation failed: empty file\");\n        }\n        // Create FormData\n        const formData = new FormData();\n        formData.append(\"text\", text);\n        formData.append(\"text_normalized\", normalizedText);\n        formData.append(\"audio\", audioFile);\n        formData.append(\"userId\", userIdentifier);\n        formData.append(\"voiceName\", voice.name || \"GeneratedVoice\");\n        // Debug FormData\n        console.log(\"FormData entries:\");\n        for (let [key, value] of formData.entries()){\n            console.log(`  ${key}: ${value instanceof File ? `File(${value.name}, ${value.size} bytes)` : value}`);\n        }\n        // Send to Lina Server\n        console.log(\"Sending request to Lina Server at http://localhost:8000/synthesize_voice\");\n        const response = await fetch(\"http://localhost:8000/synthesize_voice\", {\n            method: \"POST\",\n            body: formData\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(\"Lina Server error:\", errorText);\n            throw new Error(`Lina Server error: ${response.statusText} - ${errorText}`);\n        }\n        const data = await response.json();\n        if (!data.success || !data.audioId) {\n            throw new Error(\"Invalid response from Lina Server: missing audioId\");\n        }\n        const audioId = data.audioId;\n        console.log(`Extracted audioId from Lina Server: ${audioId}`);\n        // Fetch generated audio and HuBERT\n        const audioResponse = await fetch(`http://localhost:8000/get_audio?id=${audioId}`);\n        if (!audioResponse.ok) {\n            throw new Error(\"Failed to fetch audio from Lina Server\");\n        }\n        const generatedAudioBlob = await audioResponse.blob();\n        const audioBufferResponse = buffer__WEBPACK_IMPORTED_MODULE_2__.Buffer.from(await generatedAudioBlob.arrayBuffer());\n        const hubertResponse = await fetch(`http://localhost:8000/get_hubert?id=${audioId}`);\n        if (!hubertResponse.ok) {\n            throw new Error(\"Failed to fetch hubert from Lina Server\");\n        }\n        const generatedHubertBlob = await hubertResponse.blob();\n        const hubertBuffer = buffer__WEBPACK_IMPORTED_MODULE_2__.Buffer.from(await generatedHubertBlob.arrayBuffer());\n        // Store in LinaOutput\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].linaOutput.create({\n            data: {\n                id: audioId,\n                audio: audioBufferResponse,\n                hubert: hubertBuffer,\n                usertext: text,\n                name: voice.name || \"GeneratedVoice\",\n                createdAt: new Date()\n            }\n        });\n        const audioDataResponse = {\n            id: audioId,\n            path: `/api/audio/generate?audioId=${audioId}`,\n            usertext: text,\n            name: voice.name || \"GeneratedVoice\"\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Voice generated and stored\",\n            audio: audioDataResponse\n        });\n    } catch (error) {\n        console.error(\"Error generating voice:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to generate voice\",\n            details: error.message || String(error)\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(req) {\n    console.log(\"Received GET request to /api/audio/generate\");\n    try {\n        const { searchParams } = new URL(req.url);\n        const audioId = searchParams.get(\"audioId\");\n        if (!audioId) {\n            console.error(\"No audioId provided in query\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"audioId is required\"\n            }, {\n                status: 400\n            });\n        }\n        const linaOutput = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].linaOutput.findUnique({\n            where: {\n                id: audioId\n            },\n            select: {\n                audio: true\n            }\n        });\n        if (!linaOutput || !linaOutput.audio) {\n            console.error(`Audio not found for id: ${audioId}`);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Audio not found\"\n            }, {\n                status: 404\n            });\n        }\n        const audioBuffer = buffer__WEBPACK_IMPORTED_MODULE_2__.Buffer.from(linaOutput.audio);\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(audioBuffer, {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"audio/wav\",\n                \"Content-Length\": audioBuffer.length.toString()\n            }\n        });\n    } catch (error) {\n        console.error(\"Error fetching audio:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch audio\",\n            details: error.message || String(error)\n        }, {\n            status: 500\n        });\n    }\n} // import { NextResponse } from \"next/server\";\n // import prisma from \"@/lib/prisma\";\n // import { Buffer } from \"buffer\";\n // export async function POST(req: Request) {\n //   console.log(\"Received POST request to /api/audio/generate\");\n //   try {\n //     const { text, userIdentifier, voiceId } = await req.json();\n //     // Validate required fields\n //     if (!text || !userIdentifier || !voiceId) {\n //       return NextResponse.json({ error: \"text, userIdentifier, and voiceId are required\" }, { status: 400 });\n //     }\n //     // Fetch voice data from Prisma\n //     const voice = await prisma.voice.findUnique({\n //       where: { id: voiceId },\n //       select: { name: true, text_normalized: true, audio: true },\n //     });\n //     if (!voice || !voice.audio) {\n //       return NextResponse.json({ error: \"Voice not found or audio data missing\" }, { status: 404 });\n //     }\n //     // Ensure text_normalized is present and compulsory\n //     const normalizedText = voice.text_normalized;\n //     if (!normalizedText) {\n //       return NextResponse.json({ error: \"text_normalized is required in voice data\" }, { status: 400 });\n //     }\n //     // Convert audio Buffer to File object with validation\n //     const audioBuffer = Buffer.from(voice.audio);\n //     const audioBase64 = audioBuffer.toString(\"base64\");\n //     const byteCharacters = atob(audioBase64);\n //     const byteNumbers = new Array(byteCharacters.length);\n //     for (let i = 0; i < byteCharacters.length; i++) {\n //       byteNumbers[i] = byteCharacters.charCodeAt(i);\n //     }\n //     const byteArray = new Uint8Array(byteNumbers);\n //     const initialAudioBlob = new Blob([byteArray], { type: \"audio/wav\" }); // Renamed to avoid conflict\n //     const audioFile = new File([initialAudioBlob], \"input_audio.wav\", { type: \"audio/wav\" });\n //     if (!audioFile.size) {\n //       throw new Error(\"Audio file creation failed: empty file\");\n //     }\n //     // Create FormData\n //     const formData = new FormData();\n //     formData.append(\"text\", text); \n //     formData.append(\"text_normalized\", normalizedText); \n //     formData.append(\"audio\", audioFile);\n //     formData.append(\"userId\", userIdentifier); \n //     formData.append(\"voiceName\", voice.name || \"GeneratedVoice\");\n //     // Debug the form-data contents\n //     for (let [key, value] of formData.entries()) {\n //       console.log(`FormData entry - Key: ${key}, Value: ${value instanceof File ? \"File\" : value}`);\n //     }\n //     // Send to Flask /synthesize_voice\n //     console.log(\"Sending request to Lina Server at http://localhost:8000/synthesize_voice\");\n //     const response = await fetch(\"http://localhost:8000/synthesize_voice\", {\n //       method: \"POST\",\n //       body: formData,\n //     });\n //     if (!response.ok) {\n //       const errorText = await response.text();\n //       console.error(\"Flask response error:\", errorText);\n //       throw new Error(`Flask server error: ${response.statusText} - ${errorText}`);\n //     }\n //     const data = await response.json();\n //     if (!data.success || !data.audioId) {\n //       throw new Error(\"Invalid response from Lina Server: missing audioId\");\n //     }\n //     const audioId = data.audioId;\n //     console.log(`Extracted audioId from Lina Server: ${audioId}`);\n //     const audioResponse = await fetch(`http://localhost:8000/get_audio?id=${audioId}`);\n //     if (!audioResponse.ok) throw new Error(\"Failed to fetch audio from Lina Server\");\n //     const generatedAudioBlob = await audioResponse.blob(); \n //     const audioBufferResponse = Buffer.from(await generatedAudioBlob.arrayBuffer());\n //     const hubertResponse = await fetch(`http://localhost:8000/get_hubert?id=${audioId}`);\n //     if (!hubertResponse.ok) throw new Error(\"Failed to fetch hubert from Lina Server\");\n //     const generatedHubertBlob = await hubertResponse.blob();\n //     const hubertBuffer = Buffer.from(await generatedHubertBlob.arrayBuffer());\n //     await prisma.linaOutput.create({\n //       data: {\n //         id: audioId,\n //         audio: audioBufferResponse,\n //         hubert: hubertBuffer,\n //         usertext: text,\n //         name: voice.name || \"GeneratedVoice\",\n //         createdAt: new Date(),\n //       },\n //     });\n //     const audioDataResponse = {\n //       id: audioId,\n //       path: `/api/audio/${audioId}`,\n //       usertext: text,\n //       name: voice.name || \"GeneratedVoice\",\n //     };\n //     return NextResponse.json({\n //       success: true,\n //       message: \"Voice generated and stored\",\n //       audio: audioDataResponse,\n //     });\n //   } catch (error) {\n //     console.error(\"Error generating voice:\", error);\n //     return NextResponse.json(\n //       { error: \"Failed to generate voice\", details: error instanceof Error ? error.message : String(error) },\n //       { status: 500 }\n //     );\n //   }\n // }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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REFBcUQ7Q0FDckQsdUdBQXVHO0NBQ3ZHLFFBQVE7Q0FFUix5Q0FBeUM7Q0FDekMsK0ZBQStGO0NBQy9GLCtFQUErRTtDQUMvRSx3QkFBd0I7Q0FDeEIsd0JBQXdCO0NBQ3hCLFVBQVU7Q0FFViwwQkFBMEI7Q0FDMUIsaURBQWlEO0NBQ2pELDJEQUEyRDtDQUMzRCxzRkFBc0Y7Q0FDdEYsUUFBUTtDQUVSLDBDQUEwQztDQUMxQyw0Q0FBNEM7Q0FDNUMsK0VBQStFO0NBQy9FLFFBQVE7Q0FDUixvQ0FBb0M7Q0FDcEMscUVBQXFFO0NBRXJFLDBGQUEwRjtDQUMxRix3RkFBd0Y7Q0FDeEYsOERBQThEO0NBQzlELHVGQUF1RjtDQUV2Riw0RkFBNEY7Q0FDNUYsMEZBQTBGO0NBQzFGLCtEQUErRDtDQUMvRCxpRkFBaUY7Q0FFakYsdUNBQXVDO0NBQ3ZDLGdCQUFnQjtDQUNoQix1QkFBdUI7Q0FDdkIsc0NBQXNDO0NBQ3RDLGdDQUFnQztDQUNoQywwQkFBMEI7Q0FDMUIsZ0RBQWdEO0NBQ2hELGlDQUFpQztDQUNqQyxXQUFXO0NBQ1gsVUFBVTtDQUVWLGtDQUFrQztDQUNsQyxxQkFBcUI7Q0FDckIsdUNBQXVDO0NBQ3ZDLHdCQUF3QjtDQUN4Qiw4Q0FBOEM7Q0FDOUMsU0FBUztDQUVULGlDQUFpQztDQUNqQyx1QkFBdUI7Q0FDdkIsK0NBQStDO0NBQy9DLGtDQUFrQztDQUNsQyxVQUFVO0NBQ1Ysc0JBQXNCO0NBQ3RCLHVEQUF1RDtDQUN2RCxnQ0FBZ0M7Q0FDaEMsZ0hBQWdIO0NBQ2hILHdCQUF3QjtDQUN4QixTQUFTO0NBQ1QsTUFBTTtDQUNOLElBQUkiLCJzb3VyY2VzIjpbIi9ob21lL3Z2ci9QUk9KRUNUL0F2YXRhckxhYi1HMzMxLVBTMjVfXy9hcHAvYXBpL2F1ZGlvL2dlbmVyYXRlL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHByaXNtYSBmcm9tIFwiQC9saWIvcHJpc21hXCI7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiYnVmZmVyXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICBjb25zb2xlLmxvZyhcIlJlY2VpdmVkIFBPU1QgcmVxdWVzdCB0byAvYXBpL2F1ZGlvL2dlbmVyYXRlXCIpO1xuICB0cnkge1xuICAgIGNvbnN0IHsgdGV4dCwgdXNlcklkZW50aWZpZXIsIHZvaWNlSWQgfSA9IGF3YWl0IHJlcS5qc29uKCk7XG5cbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICBpZiAoIXRleHQgfHwgIXVzZXJJZGVudGlmaWVyIHx8ICF2b2ljZUlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJ0ZXh0LCB1c2VySWRlbnRpZmllciwgYW5kIHZvaWNlSWQgYXJlIHJlcXVpcmVkXCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICAvLyBGZXRjaCB2b2ljZSBkYXRhIGZyb20gUHJpc21hXG4gICAgY29uc3Qgdm9pY2UgPSBhd2FpdCBwcmlzbWEudm9pY2UuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBpZDogdm9pY2VJZCB9LFxuICAgICAgc2VsZWN0OiB7IG5hbWU6IHRydWUsIHRleHRfbm9ybWFsaXplZDogdHJ1ZSwgYXVkaW86IHRydWUgfSxcbiAgICB9KTtcblxuICAgIGlmICghdm9pY2UgfHwgIXZvaWNlLmF1ZGlvKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJWb2ljZSBub3QgZm91bmQgb3IgYXVkaW8gZGF0YSBtaXNzaW5nXCIgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgdGV4dF9ub3JtYWxpemVkIGlzIHByZXNlbnRcbiAgICBjb25zdCBub3JtYWxpemVkVGV4dCA9IHZvaWNlLnRleHRfbm9ybWFsaXplZDtcbiAgICBpZiAoIW5vcm1hbGl6ZWRUZXh0KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJ0ZXh0X25vcm1hbGl6ZWQgaXMgcmVxdWlyZWQgaW4gdm9pY2UgZGF0YVwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBhdWRpbyBCdWZmZXIgdG8gRmlsZVxuICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gQnVmZmVyLmZyb20odm9pY2UuYXVkaW8pO1xuICAgIGNvbnN0IGF1ZGlvQmxvYiA9IG5ldyBCbG9iKFthdWRpb0J1ZmZlcl0sIHsgdHlwZTogXCJhdWRpby93YXZcIiB9KTtcbiAgICBjb25zdCBhdWRpb0ZpbGUgPSBuZXcgRmlsZShbYXVkaW9CbG9iXSwgXCJpbnB1dF9hdWRpby53YXZcIiwgeyB0eXBlOiBcImF1ZGlvL3dhdlwiIH0pO1xuICAgIGlmICghYXVkaW9GaWxlLnNpemUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkF1ZGlvIGZpbGUgY3JlYXRpb24gZmFpbGVkOiBlbXB0eSBmaWxlXCIpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBGb3JtRGF0YVxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwidGV4dFwiLCB0ZXh0KTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJ0ZXh0X25vcm1hbGl6ZWRcIiwgbm9ybWFsaXplZFRleHQpO1xuICAgIGZvcm1EYXRhLmFwcGVuZChcImF1ZGlvXCIsIGF1ZGlvRmlsZSk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwidXNlcklkXCIsIHVzZXJJZGVudGlmaWVyKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJ2b2ljZU5hbWVcIiwgdm9pY2UubmFtZSB8fCBcIkdlbmVyYXRlZFZvaWNlXCIpO1xuXG4gICAgLy8gRGVidWcgRm9ybURhdGFcbiAgICBjb25zb2xlLmxvZyhcIkZvcm1EYXRhIGVudHJpZXM6XCIpO1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpIHtcbiAgICAgIGNvbnNvbGUubG9nKGAgICR7a2V5fTogJHt2YWx1ZSBpbnN0YW5jZW9mIEZpbGUgPyBgRmlsZSgke3ZhbHVlLm5hbWV9LCAke3ZhbHVlLnNpemV9IGJ5dGVzKWAgOiB2YWx1ZX1gKTtcbiAgICB9XG5cbiAgICAvLyBTZW5kIHRvIExpbmEgU2VydmVyXG4gICAgY29uc29sZS5sb2coXCJTZW5kaW5nIHJlcXVlc3QgdG8gTGluYSBTZXJ2ZXIgYXQgaHR0cDovL2xvY2FsaG9zdDo4MDAwL3N5bnRoZXNpemVfdm9pY2VcIik7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9zeW50aGVzaXplX3ZvaWNlXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJMaW5hIFNlcnZlciBlcnJvcjpcIiwgZXJyb3JUZXh0KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTGluYSBTZXJ2ZXIgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0gLSAke2Vycm9yVGV4dH1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGlmICghZGF0YS5zdWNjZXNzIHx8ICFkYXRhLmF1ZGlvSWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmVzcG9uc2UgZnJvbSBMaW5hIFNlcnZlcjogbWlzc2luZyBhdWRpb0lkXCIpO1xuICAgIH1cbiAgICBjb25zdCBhdWRpb0lkID0gZGF0YS5hdWRpb0lkO1xuICAgIGNvbnNvbGUubG9nKGBFeHRyYWN0ZWQgYXVkaW9JZCBmcm9tIExpbmEgU2VydmVyOiAke2F1ZGlvSWR9YCk7XG5cbiAgICAvLyBGZXRjaCBnZW5lcmF0ZWQgYXVkaW8gYW5kIEh1QkVSVFxuICAgIGNvbnN0IGF1ZGlvUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldF9hdWRpbz9pZD0ke2F1ZGlvSWR9YCk7XG4gICAgaWYgKCFhdWRpb1Jlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggYXVkaW8gZnJvbSBMaW5hIFNlcnZlclwiKTtcbiAgICB9XG4gICAgY29uc3QgZ2VuZXJhdGVkQXVkaW9CbG9iID0gYXdhaXQgYXVkaW9SZXNwb25zZS5ibG9iKCk7XG4gICAgY29uc3QgYXVkaW9CdWZmZXJSZXNwb25zZSA9IEJ1ZmZlci5mcm9tKGF3YWl0IGdlbmVyYXRlZEF1ZGlvQmxvYi5hcnJheUJ1ZmZlcigpKTtcblxuICAgIGNvbnN0IGh1YmVydFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRfaHViZXJ0P2lkPSR7YXVkaW9JZH1gKTtcbiAgICBpZiAoIWh1YmVydFJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggaHViZXJ0IGZyb20gTGluYSBTZXJ2ZXJcIik7XG4gICAgfVxuICAgIGNvbnN0IGdlbmVyYXRlZEh1YmVydEJsb2IgPSBhd2FpdCBodWJlcnRSZXNwb25zZS5ibG9iKCk7XG4gICAgY29uc3QgaHViZXJ0QnVmZmVyID0gQnVmZmVyLmZyb20oYXdhaXQgZ2VuZXJhdGVkSHViZXJ0QmxvYi5hcnJheUJ1ZmZlcigpKTtcblxuICAgIC8vIFN0b3JlIGluIExpbmFPdXRwdXRcbiAgICBhd2FpdCBwcmlzbWEubGluYU91dHB1dC5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBpZDogYXVkaW9JZCxcbiAgICAgICAgYXVkaW86IGF1ZGlvQnVmZmVyUmVzcG9uc2UsXG4gICAgICAgIGh1YmVydDogaHViZXJ0QnVmZmVyLFxuICAgICAgICB1c2VydGV4dDogdGV4dCxcbiAgICAgICAgbmFtZTogdm9pY2UubmFtZSB8fCBcIkdlbmVyYXRlZFZvaWNlXCIsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBhdWRpb0RhdGFSZXNwb25zZSA9IHtcbiAgICAgIGlkOiBhdWRpb0lkLFxuICAgICAgcGF0aDogYC9hcGkvYXVkaW8vZ2VuZXJhdGU/YXVkaW9JZD0ke2F1ZGlvSWR9YCwgLy8gVXBkYXRlZCBwYXRoIHRvIHVzZSB0aGlzIHJvdXRlIHdpdGggcXVlcnkgcGFyYW1cbiAgICAgIHVzZXJ0ZXh0OiB0ZXh0LFxuICAgICAgbmFtZTogdm9pY2UubmFtZSB8fCBcIkdlbmVyYXRlZFZvaWNlXCIsXG4gICAgfTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogXCJWb2ljZSBnZW5lcmF0ZWQgYW5kIHN0b3JlZFwiLFxuICAgICAgYXVkaW86IGF1ZGlvRGF0YVJlc3BvbnNlLFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZW5lcmF0aW5nIHZvaWNlOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogXCJGYWlsZWQgdG8gZ2VuZXJhdGUgdm9pY2VcIiwgZGV0YWlsczogZXJyb3IubWVzc2FnZSB8fCBTdHJpbmcoZXJyb3IpIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxOiBSZXF1ZXN0KSB7XG4gIGNvbnNvbGUubG9nKFwiUmVjZWl2ZWQgR0VUIHJlcXVlc3QgdG8gL2FwaS9hdWRpby9nZW5lcmF0ZVwiKTtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXEudXJsKTtcbiAgICBjb25zdCBhdWRpb0lkID0gc2VhcmNoUGFyYW1zLmdldChcImF1ZGlvSWRcIik7XG5cbiAgICBpZiAoIWF1ZGlvSWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBhdWRpb0lkIHByb3ZpZGVkIGluIHF1ZXJ5XCIpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiYXVkaW9JZCBpcyByZXF1aXJlZFwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgbGluYU91dHB1dCA9IGF3YWl0IHByaXNtYS5saW5hT3V0cHV0LmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IGF1ZGlvSWQgfSxcbiAgICAgIHNlbGVjdDogeyBhdWRpbzogdHJ1ZSB9LFxuICAgIH0pO1xuXG4gICAgaWYgKCFsaW5hT3V0cHV0IHx8ICFsaW5hT3V0cHV0LmF1ZGlvKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBBdWRpbyBub3QgZm91bmQgZm9yIGlkOiAke2F1ZGlvSWR9YCk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJBdWRpbyBub3QgZm91bmRcIiB9LCB7IHN0YXR1czogNDA0IH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gQnVmZmVyLmZyb20obGluYU91dHB1dC5hdWRpbyk7XG4gICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoYXVkaW9CdWZmZXIsIHtcbiAgICAgIHN0YXR1czogMjAwLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImF1ZGlvL3dhdlwiLFxuICAgICAgICBcIkNvbnRlbnQtTGVuZ3RoXCI6IGF1ZGlvQnVmZmVyLmxlbmd0aC50b1N0cmluZygpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgYXVkaW86XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiBcIkZhaWxlZCB0byBmZXRjaCBhdWRpb1wiLCBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIHx8IFN0cmluZyhlcnJvcikgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuXG5cblxuXG5cblxuXG5cbi8vIGltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuLy8gaW1wb3J0IHByaXNtYSBmcm9tIFwiQC9saWIvcHJpc21hXCI7XG4vLyBpbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiYnVmZmVyXCI7XG5cbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuLy8gICBjb25zb2xlLmxvZyhcIlJlY2VpdmVkIFBPU1QgcmVxdWVzdCB0byAvYXBpL2F1ZGlvL2dlbmVyYXRlXCIpO1xuLy8gICB0cnkge1xuLy8gICAgIGNvbnN0IHsgdGV4dCwgdXNlcklkZW50aWZpZXIsIHZvaWNlSWQgfSA9IGF3YWl0IHJlcS5qc29uKCk7XG5cbi8vICAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbi8vICAgICBpZiAoIXRleHQgfHwgIXVzZXJJZGVudGlmaWVyIHx8ICF2b2ljZUlkKSB7XG4vLyAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJ0ZXh0LCB1c2VySWRlbnRpZmllciwgYW5kIHZvaWNlSWQgYXJlIHJlcXVpcmVkXCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbi8vICAgICB9XG5cbi8vICAgICAvLyBGZXRjaCB2b2ljZSBkYXRhIGZyb20gUHJpc21hXG4vLyAgICAgY29uc3Qgdm9pY2UgPSBhd2FpdCBwcmlzbWEudm9pY2UuZmluZFVuaXF1ZSh7XG4vLyAgICAgICB3aGVyZTogeyBpZDogdm9pY2VJZCB9LFxuLy8gICAgICAgc2VsZWN0OiB7IG5hbWU6IHRydWUsIHRleHRfbm9ybWFsaXplZDogdHJ1ZSwgYXVkaW86IHRydWUgfSxcbi8vICAgICB9KTtcblxuLy8gICAgIGlmICghdm9pY2UgfHwgIXZvaWNlLmF1ZGlvKSB7XG4vLyAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJWb2ljZSBub3QgZm91bmQgb3IgYXVkaW8gZGF0YSBtaXNzaW5nXCIgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbi8vICAgICB9XG5cbi8vICAgICAvLyBFbnN1cmUgdGV4dF9ub3JtYWxpemVkIGlzIHByZXNlbnQgYW5kIGNvbXB1bHNvcnlcbi8vICAgICBjb25zdCBub3JtYWxpemVkVGV4dCA9IHZvaWNlLnRleHRfbm9ybWFsaXplZDtcbi8vICAgICBpZiAoIW5vcm1hbGl6ZWRUZXh0KSB7XG4vLyAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJ0ZXh0X25vcm1hbGl6ZWQgaXMgcmVxdWlyZWQgaW4gdm9pY2UgZGF0YVwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4vLyAgICAgfVxuXG4vLyAgICAgLy8gQ29udmVydCBhdWRpbyBCdWZmZXIgdG8gRmlsZSBvYmplY3Qgd2l0aCB2YWxpZGF0aW9uXG4vLyAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBCdWZmZXIuZnJvbSh2b2ljZS5hdWRpbyk7XG4vLyAgICAgY29uc3QgYXVkaW9CYXNlNjQgPSBhdWRpb0J1ZmZlci50b1N0cmluZyhcImJhc2U2NFwiKTtcbi8vICAgICBjb25zdCBieXRlQ2hhcmFjdGVycyA9IGF0b2IoYXVkaW9CYXNlNjQpO1xuLy8gICAgIGNvbnN0IGJ5dGVOdW1iZXJzID0gbmV3IEFycmF5KGJ5dGVDaGFyYWN0ZXJzLmxlbmd0aCk7XG4vLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlQ2hhcmFjdGVycy5sZW5ndGg7IGkrKykge1xuLy8gICAgICAgYnl0ZU51bWJlcnNbaV0gPSBieXRlQ2hhcmFjdGVycy5jaGFyQ29kZUF0KGkpO1xuLy8gICAgIH1cbi8vICAgICBjb25zdCBieXRlQXJyYXkgPSBuZXcgVWludDhBcnJheShieXRlTnVtYmVycyk7XG4vLyAgICAgY29uc3QgaW5pdGlhbEF1ZGlvQmxvYiA9IG5ldyBCbG9iKFtieXRlQXJyYXldLCB7IHR5cGU6IFwiYXVkaW8vd2F2XCIgfSk7IC8vIFJlbmFtZWQgdG8gYXZvaWQgY29uZmxpY3Rcbi8vICAgICBjb25zdCBhdWRpb0ZpbGUgPSBuZXcgRmlsZShbaW5pdGlhbEF1ZGlvQmxvYl0sIFwiaW5wdXRfYXVkaW8ud2F2XCIsIHsgdHlwZTogXCJhdWRpby93YXZcIiB9KTtcbi8vICAgICBpZiAoIWF1ZGlvRmlsZS5zaXplKSB7XG4vLyAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdWRpbyBmaWxlIGNyZWF0aW9uIGZhaWxlZDogZW1wdHkgZmlsZVwiKTtcbi8vICAgICB9XG5cbi8vICAgICAvLyBDcmVhdGUgRm9ybURhdGFcbi8vICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuLy8gICAgIGZvcm1EYXRhLmFwcGVuZChcInRleHRcIiwgdGV4dCk7IFxuLy8gICAgIGZvcm1EYXRhLmFwcGVuZChcInRleHRfbm9ybWFsaXplZFwiLCBub3JtYWxpemVkVGV4dCk7IFxuLy8gICAgIGZvcm1EYXRhLmFwcGVuZChcImF1ZGlvXCIsIGF1ZGlvRmlsZSk7XG4vLyAgICAgZm9ybURhdGEuYXBwZW5kKFwidXNlcklkXCIsIHVzZXJJZGVudGlmaWVyKTsgXG4vLyAgICAgZm9ybURhdGEuYXBwZW5kKFwidm9pY2VOYW1lXCIsIHZvaWNlLm5hbWUgfHwgXCJHZW5lcmF0ZWRWb2ljZVwiKTtcblxuLy8gICAgIC8vIERlYnVnIHRoZSBmb3JtLWRhdGEgY29udGVudHNcbi8vICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgZm9ybURhdGEuZW50cmllcygpKSB7XG4vLyAgICAgICBjb25zb2xlLmxvZyhgRm9ybURhdGEgZW50cnkgLSBLZXk6ICR7a2V5fSwgVmFsdWU6ICR7dmFsdWUgaW5zdGFuY2VvZiBGaWxlID8gXCJGaWxlXCIgOiB2YWx1ZX1gKTtcbi8vICAgICB9XG5cbi8vICAgICAvLyBTZW5kIHRvIEZsYXNrIC9zeW50aGVzaXplX3ZvaWNlXG4vLyAgICAgY29uc29sZS5sb2coXCJTZW5kaW5nIHJlcXVlc3QgdG8gTGluYSBTZXJ2ZXIgYXQgaHR0cDovL2xvY2FsaG9zdDo4MDAwL3N5bnRoZXNpemVfdm9pY2VcIik7XG4vLyAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9zeW50aGVzaXplX3ZvaWNlXCIsIHtcbi8vICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4vLyAgICAgICBib2R5OiBmb3JtRGF0YSxcbi8vICAgICB9KTtcblxuLy8gICAgIGlmICghcmVzcG9uc2Uub2spIHtcbi8vICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGbGFzayByZXNwb25zZSBlcnJvcjpcIiwgZXJyb3JUZXh0KTtcbi8vICAgICAgIHRocm93IG5ldyBFcnJvcihgRmxhc2sgc2VydmVyIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9IC0gJHtlcnJvclRleHR9YCk7XG4vLyAgICAgfVxuXG4vLyAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbi8vICAgICBpZiAoIWRhdGEuc3VjY2VzcyB8fCAhZGF0YS5hdWRpb0lkKSB7XG4vLyAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIGZyb20gTGluYSBTZXJ2ZXI6IG1pc3NpbmcgYXVkaW9JZFwiKTtcbi8vICAgICB9XG4vLyAgICAgY29uc3QgYXVkaW9JZCA9IGRhdGEuYXVkaW9JZDtcbi8vICAgICBjb25zb2xlLmxvZyhgRXh0cmFjdGVkIGF1ZGlvSWQgZnJvbSBMaW5hIFNlcnZlcjogJHthdWRpb0lkfWApO1xuXG4vLyAgICAgY29uc3QgYXVkaW9SZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjgwMDAvZ2V0X2F1ZGlvP2lkPSR7YXVkaW9JZH1gKTtcbi8vICAgICBpZiAoIWF1ZGlvUmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBhdWRpbyBmcm9tIExpbmEgU2VydmVyXCIpO1xuLy8gICAgIGNvbnN0IGdlbmVyYXRlZEF1ZGlvQmxvYiA9IGF3YWl0IGF1ZGlvUmVzcG9uc2UuYmxvYigpOyBcbi8vICAgICBjb25zdCBhdWRpb0J1ZmZlclJlc3BvbnNlID0gQnVmZmVyLmZyb20oYXdhaXQgZ2VuZXJhdGVkQXVkaW9CbG9iLmFycmF5QnVmZmVyKCkpO1xuXG4vLyAgICAgY29uc3QgaHViZXJ0UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldF9odWJlcnQ/aWQ9JHthdWRpb0lkfWApO1xuLy8gICAgIGlmICghaHViZXJ0UmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBodWJlcnQgZnJvbSBMaW5hIFNlcnZlclwiKTtcbi8vICAgICBjb25zdCBnZW5lcmF0ZWRIdWJlcnRCbG9iID0gYXdhaXQgaHViZXJ0UmVzcG9uc2UuYmxvYigpO1xuLy8gICAgIGNvbnN0IGh1YmVydEJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGF3YWl0IGdlbmVyYXRlZEh1YmVydEJsb2IuYXJyYXlCdWZmZXIoKSk7XG5cbi8vICAgICBhd2FpdCBwcmlzbWEubGluYU91dHB1dC5jcmVhdGUoe1xuLy8gICAgICAgZGF0YToge1xuLy8gICAgICAgICBpZDogYXVkaW9JZCxcbi8vICAgICAgICAgYXVkaW86IGF1ZGlvQnVmZmVyUmVzcG9uc2UsXG4vLyAgICAgICAgIGh1YmVydDogaHViZXJ0QnVmZmVyLFxuLy8gICAgICAgICB1c2VydGV4dDogdGV4dCxcbi8vICAgICAgICAgbmFtZTogdm9pY2UubmFtZSB8fCBcIkdlbmVyYXRlZFZvaWNlXCIsXG4vLyAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbi8vICAgICAgIH0sXG4vLyAgICAgfSk7XG5cbi8vICAgICBjb25zdCBhdWRpb0RhdGFSZXNwb25zZSA9IHtcbi8vICAgICAgIGlkOiBhdWRpb0lkLFxuLy8gICAgICAgcGF0aDogYC9hcGkvYXVkaW8vJHthdWRpb0lkfWAsXG4vLyAgICAgICB1c2VydGV4dDogdGV4dCxcbi8vICAgICAgIG5hbWU6IHZvaWNlLm5hbWUgfHwgXCJHZW5lcmF0ZWRWb2ljZVwiLFxuLy8gICAgIH07XG5cbi8vICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuLy8gICAgICAgc3VjY2VzczogdHJ1ZSxcbi8vICAgICAgIG1lc3NhZ2U6IFwiVm9pY2UgZ2VuZXJhdGVkIGFuZCBzdG9yZWRcIixcbi8vICAgICAgIGF1ZGlvOiBhdWRpb0RhdGFSZXNwb25zZSxcbi8vICAgICB9KTtcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2VuZXJhdGluZyB2b2ljZTpcIiwgZXJyb3IpO1xuLy8gICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbi8vICAgICAgIHsgZXJyb3I6IFwiRmFpbGVkIHRvIGdlbmVyYXRlIHZvaWNlXCIsIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSB9LFxuLy8gICAgICAgeyBzdGF0dXM6IDUwMCB9XG4vLyAgICAgKTtcbi8vICAgfVxuLy8gfSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJwcmlzbWEiLCJCdWZmZXIiLCJQT1NUIiwicmVxIiwiY29uc29sZSIsImxvZyIsInRleHQiLCJ1c2VySWRlbnRpZmllciIsInZvaWNlSWQiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJ2b2ljZSIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlkIiwic2VsZWN0IiwibmFtZSIsInRleHRfbm9ybWFsaXplZCIsImF1ZGlvIiwibm9ybWFsaXplZFRleHQiLCJhdWRpb0J1ZmZlciIsImZyb20iLCJhdWRpb0Jsb2IiLCJCbG9iIiwidHlwZSIsImF1ZGlvRmlsZSIsIkZpbGUiLCJzaXplIiwiRXJyb3IiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwia2V5IiwidmFsdWUiLCJlbnRyaWVzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJvayIsImVycm9yVGV4dCIsInN0YXR1c1RleHQiLCJkYXRhIiwic3VjY2VzcyIsImF1ZGlvSWQiLCJhdWRpb1Jlc3BvbnNlIiwiZ2VuZXJhdGVkQXVkaW9CbG9iIiwiYmxvYiIsImF1ZGlvQnVmZmVyUmVzcG9uc2UiLCJhcnJheUJ1ZmZlciIsImh1YmVydFJlc3BvbnNlIiwiZ2VuZXJhdGVkSHViZXJ0QmxvYiIsImh1YmVydEJ1ZmZlciIsImxpbmFPdXRwdXQiLCJjcmVhdGUiLCJodWJlcnQiLCJ1c2VydGV4dCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJhdWRpb0RhdGFSZXNwb25zZSIsInBhdGgiLCJtZXNzYWdlIiwiZGV0YWlscyIsIlN0cmluZyIsIkdFVCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImdldCIsImhlYWRlcnMiLCJsZW5ndGgiLCJ0b1N0cmluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/audio/generate/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n// lib/prisma.ts\n\nconst prisma = global.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) global.prisma = prisma;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdCQUFnQjtBQUM4QjtBQUU5QyxNQUFNQyxTQUFTQyxPQUFPRCxNQUFNLElBQUksSUFBSUQsd0RBQVlBO0FBRWhELElBQUlHLElBQXFDLEVBQUVELE9BQU9ELE1BQU0sR0FBR0E7QUFFM0QsaUVBQWVBLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL3Z2ci9QUk9KRUNUL0F2YXRhckxhYi1HMzMxLVBTMjVfXy9saWIvcHJpc21hLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxpYi9wcmlzbWEudHNcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xuXG5jb25zdCBwcmlzbWEgPSBnbG9iYWwucHJpc21hIHx8IG5ldyBQcmlzbWFDbGllbnQoKTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgZ2xvYmFsLnByaXNtYSA9IHByaXNtYTtcblxuZXhwb3J0IGRlZmF1bHQgcHJpc21hOyJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWEiLCJnbG9iYWwiLCJwcm9jZXNzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Faudio%2Fgenerate%2Froute&page=%2Fapi%2Faudio%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faudio%2Fgenerate%2Froute.ts&appDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Faudio%2Fgenerate%2Froute&page=%2Fapi%2Faudio%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faudio%2Fgenerate%2Froute.ts&appDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_vvr_PROJECT_AvatarLab_G331_PS25_app_api_audio_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/audio/generate/route.ts */ \"(rsc)/./app/api/audio/generate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/audio/generate/route\",\n        pathname: \"/api/audio/generate\",\n        filename: \"route\",\n        bundlePath: \"app/api/audio/generate/route\"\n    },\n    resolvedPagePath: \"/home/vvr/PROJECT/AvatarLab-G331-PS25__/app/api/audio/generate/route.ts\",\n    nextConfigOutput,\n    userland: _home_vvr_PROJECT_AvatarLab_G331_PS25_app_api_audio_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhdWRpbyUyRmdlbmVyYXRlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhdWRpbyUyRmdlbmVyYXRlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYXVkaW8lMkZnZW5lcmF0ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGdnZyJTJGUFJPSkVDVCUyRkF2YXRhckxhYi1HMzMxLVBTMjVfXyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRnZ2ciUyRlBST0pFQ1QlMkZBdmF0YXJMYWItRzMzMS1QUzI1X18maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ3VCO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvaG9tZS92dnIvUFJPSkVDVC9BdmF0YXJMYWItRzMzMS1QUzI1X18vYXBwL2FwaS9hdWRpby9nZW5lcmF0ZS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXVkaW8vZ2VuZXJhdGUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdWRpby9nZW5lcmF0ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXVkaW8vZ2VuZXJhdGUvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvaG9tZS92dnIvUFJPSkVDVC9BdmF0YXJMYWItRzMzMS1QUzI1X18vYXBwL2FwaS9hdWRpby9nZW5lcmF0ZS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Faudio%2Fgenerate%2Froute&page=%2Fapi%2Faudio%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faudio%2Fgenerate%2Froute.ts&appDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Faudio%2Fgenerate%2Froute&page=%2Fapi%2Faudio%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faudio%2Fgenerate%2Froute.ts&appDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fvvr%2FPROJECT%2FAvatarLab-G331-PS25__&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();